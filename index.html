<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Link Vault</title>

  <style>
    :root {
      --bg: #0b0b0b;
      --panel: #111;
      --green: #2dff7a;
      --green-dark: #1ecb5a;
      --text: #eaeaea;
      --muted: #777;
      --border: #1f1f1f;
    }

    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      display: flex;
      justify-content: center;
      padding: 40px 16px;
    }

    .container {
      width: 100%;
      max-width: 600px;
      background: var(--panel);
      border-radius: 14px;
      padding: 24px;
      box-shadow: 0 0 40px rgba(0,0,0,0.6);
    }

    h1 {
      text-align: center;
      color: var(--green);
      margin-top: 0;
      margin-bottom: 20px;
    }

    form {
      display: grid;
      grid-template-columns: 1fr 1fr auto;
      gap: 10px;
      margin-bottom: 24px;
    }

    input, select {
      background: #000;
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px;
      color: var(--text);
      outline: none;
    }

    input:focus, select:focus {
      border-color: var(--green);
    }

    button {
      background: var(--green);
      border: none;
      border-radius: 8px;
      padding: 12px 16px;
      font-weight: 600;
      cursor: pointer;
    }

    button:hover {
      background: var(--green-dark);
    }

    .category {
      margin-bottom: 22px;
    }

    .category h2 {
      margin: 0 0 10px;
      font-size: 1.1rem;
      color: var(--green);
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    li {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #0d0d0d;
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 10px 14px;
      margin-bottom: 8px;
    }

    a {
      color: var(--green);
      text-decoration: none;
      word-break: break-all;
    }

    a:hover {
      text-decoration: underline;
    }

    .actions {
      display: flex;
      gap: 8px;
    }

    .actions button {
      background: transparent;
      border: 1px solid #333;
      color: var(--muted);
      padding: 5px 9px;
      border-radius: 6px;
      font-size: 0.8rem;
    }

    .actions button:hover {
      color: var(--green);
      border-color: var(--green);
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Link Vault</h1>

    <form id="linkForm">
      <input id="urlInput" type="url" placeholder="https://example.com" required />
      <input id="categoryInput" placeholder="Category" required />
      <button type="submit">Add</button>
    </form>

    <div id="categories"></div>
  </div>

  <script>
    const form = document.getElementById("linkForm");
    const urlInput = document.getElementById("urlInput");
    const categoryInput = document.getElementById("categoryInput");
    const categoriesEl = document.getElementById("categories");

    let data = JSON.parse(localStorage.getItem("links")) || {};

    function save() {
      localStorage.setItem("links", JSON.stringify(data));
    }

    function render() {
      categoriesEl.innerHTML = "";

      for (const category in data) {
        const section = document.createElement("div");
        section.className = "category";

        const title = document.createElement("h2");
        title.textContent = category;

        const ul = document.createElement("ul");

        data[category].forEach((link, index) => {
          const li = document.createElement("li");

          const a = document.createElement("a");
          a.href = link;
          a.textContent = link;
          a.target = "_blank";

          const actions = document.createElement("div");
          actions.className = "actions";

          const editBtn = document.createElement("button");
          editBtn.textContent = "Edit";
          editBtn.onclick = () => {
            const newUrl = prompt("Edit link:", link);
            if (newUrl) {
              data[category][index] = newUrl;
              save();
              render();
            }
          };

          const delBtn = document.createElement("button");
          delBtn.textContent = "Delete";
          delBtn.onclick = () => {
            data[category].splice(index, 1);
            if (data[category].length === 0) delete data[category];
            save();
            render();
          };

          actions.append(editBtn, delBtn);
          li.append(a, actions);
          ul.appendChild(li);
        });

        section.append(title, ul);
        categoriesEl.appendChild(section);
      }
    }

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const url = urlInput.value.trim();
      const category = categoryInput.value.trim();

      if (!data[category]) data[category] = [];
      data[category].push(url);

      save();
      render();

      urlInput.value = "";
      categoryInput.value = "";
    });

    render();
  </script>
</body>
</html>
